---
title: "neighbor"
output: github_document
---

```{r setup, include=FALSE}
set.seed(1)
knitr::opts_chunk$set(
  echo = TRUE,
  comment = "#>",
  collapse = TRUE
)
```

# Setup
Load CTFSRPackage and confirm that `NeighborDensities()` is loaded.

```{r}
load(here::here("inst/issues/67_neighbors/CTFSRPackage.rdata"))
ls(pattern = "Neighbor")
```

Dependencies.

```{r}
library(splancs)
```

# Test

Create a 1 row dataset;

```{r}
censdata <- data.frame(
  stringsAsFactors = FALSE,
  gx = 5,
  gy = 5,
  tag = "a",
  sp = "sp1",
  dbh = 20,
  status = "A"
)
censdata
```

Run `NeighborDensities()`, expecting result of `con.sp = 0`, `het.sp = 0`.

```{r}
NeighborDensities(censdata)
```

# Question

Is there a bug or is my expectation wrong? Why?

# Reference

Source code.

```{r}
get(ls(pattern = "Neighbor"))
```

