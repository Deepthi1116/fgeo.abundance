<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Count individuals by group. — abundance • fgeo.abundance</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Count individuals by group. — abundance" />

<meta property="og:description" content="To calculate the abundance of individuals by groups is a particular case of
the more general issue of counting observations. This is such a common action
that there are great tools for doing just that. Some of the most widely used
and well tested are count(), tally(), add_count() and add_tally()
from the dplyr package. For convenience, those functions are reexported
by by fgeo.abundance so they will be available to you when you run
library(fgeo.abundance). The examples below are show specifically how these
functions apply to ForestGEO data. To learn more about these functions, and
to see more general examples, please refer to the original documentation of
dplyr::count()." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fgeo.abundance</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/fgeo.abundance">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Count individuals by group.</h1>
    <small class="dont-index">Source: <a href='https://github.com/forestgeo/fgeo.abundance/blob/master/R/abundance.R'><code>R/abundance.R</code></a></small>
    <div class="hidden name"><code>abundance.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>To calculate the abundance of individuals by groups is a particular case of
the more general issue of counting observations. This is such a common action
that there are great tools for doing just that. Some of the most widely used
and well tested are <code><a href='http://dplyr.tidyverse.org/reference/tally.html'>count()</a></code>, <code><a href='http://dplyr.tidyverse.org/reference/tally.html'>tally()</a></code>, <code><a href='http://dplyr.tidyverse.org/reference/tally.html'>add_count()</a></code> and <code><a href='http://dplyr.tidyverse.org/reference/tally.html'>add_tally()</a></code>
from the <strong>dplyr</strong> package. For convenience, those functions are reexported
by by <strong>fgeo.abundance</strong> so they will be available to you when you run
<code>library(fgeo.abundance)</code>. The examples below are show specifically how these
functions apply to ForestGEO data. To learn more about these functions, and
to see more general examples, please refer to the original documentation of
<code><a href='http://dplyr.tidyverse.org/reference/tally.html'>dplyr::count()</a></code>.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://dplyr.tidyverse.org/reference/tally.html'>dplyr::count()</a></code>.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>census</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>tibble</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/tibble/topics/tibble'>tibble</a></span>(
  <span class='kw'>stemID</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>6</span>,
  <span class='kw'>quadrat</span> <span class='kw'>=</span> <span class='fu'>paste0</span>(<span class='st'>"000"</span>, <span class='fu'>rep</span>(<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>each</span> <span class='kw'>=</span> <span class='fl'>3</span>)),
  <span class='kw'>sp</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fu'>paste0</span>(<span class='st'>"sp"</span>, <span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>2</span>)), <span class='fu'>paste0</span>(<span class='st'>"sp"</span>, <span class='fu'>c</span>(<span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span>))),
  <span class='kw'>dbh</span> <span class='kw'>=</span> <span class='fu'>abs</span>(<span class='fu'>sample</span>(<span class='fu'>rnorm</span>(<span class='fl'>100</span>), <span class='fl'>6</span>) * <span class='fl'>10</span>)
)
<span class='no'>census</span></div><div class='output co'>#&gt; # A tibble: 6 x 4
#&gt;   stemID quadrat sp        dbh
#&gt;    &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt;
#&gt; 1      1 0001    sp1    1.12  
#&gt; 2      2 0001    sp1    0.381 
#&gt; 3      3 0001    sp2    3.63  
#&gt; 4      4 0002    sp3    0.0557
#&gt; 5      5 0002    sp3   16.3   
#&gt; 6      6 0002    sp3   13.0   </div><div class='input'>
<span class='co'># Abundance (rows count) by quadrat</span>
<span class='fu'><a href='http://dplyr.tidyverse.org/reference/tally.html'>count</a></span>(<span class='no'>census</span>, <span class='no'>quadrat</span>)</div><div class='output co'>#&gt; # A tibble: 2 x 2
#&gt;   quadrat     n
#&gt;   &lt;chr&gt;   &lt;int&gt;
#&gt; 1 0001        3
#&gt; 2 0002        3</div><div class='input'>
<span class='co'># Abundance (rows count) by species</span>
<span class='fu'><a href='http://dplyr.tidyverse.org/reference/tally.html'>count</a></span>(<span class='no'>census</span>, <span class='no'>sp</span>)</div><div class='output co'>#&gt; # A tibble: 3 x 2
#&gt;   sp        n
#&gt;   &lt;chr&gt; &lt;int&gt;
#&gt; 1 sp1       2
#&gt; 2 sp2       1
#&gt; 3 sp3       3</div><div class='input'>
<span class='co'># Abundance (rows count) by quadrat by species</span>
<span class='fu'><a href='http://dplyr.tidyverse.org/reference/tally.html'>count</a></span>(<span class='no'>census</span>, <span class='no'>quadrat</span>, <span class='no'>sp</span>)</div><div class='output co'>#&gt; # A tibble: 3 x 3
#&gt;   quadrat sp        n
#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;int&gt;
#&gt; 1 0001    sp1       2
#&gt; 2 0001    sp2       1
#&gt; 3 0002    sp3       3</div><div class='input'>
<span class='co'># Richness by quadrat:</span>
<span class='co'># Count is designed so that you can call it repeatedly, each time rolling up</span>
<span class='co'># a level of detail.</span>
<span class='co'># Now, each row by quadrat is a unique species, so counting rows gives</span>
<span class='co'># richness</span>
<span class='no'>n_quad_sp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://dplyr.tidyverse.org/reference/tally.html'>count</a></span>(<span class='no'>census</span>, <span class='no'>quadrat</span>, <span class='no'>sp</span>)
<span class='no'>richness_quad</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://dplyr.tidyverse.org/reference/tally.html'>count</a></span>(<span class='no'>n_quad_sp</span>, <span class='no'>quadrat</span>)
<span class='no'>richness_quad</span></div><div class='output co'>#&gt; # A tibble: 2 x 2
#&gt;   quadrat    nn
#&gt;   &lt;chr&gt;   &lt;int&gt;
#&gt; 1 0001        2
#&gt; 2 0002        1</div><div class='input'>
<span class='co'># Singleton:</span>
<span class='co'># add_count() is useful for groupwise filtering e.g.: show only species that</span>
<span class='co'># have a single member</span>
<span class='no'>out</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://dplyr.tidyverse.org/reference/tally.html'>add_count</a></span>(<span class='no'>census</span>, <span class='no'>quadrat</span>, <span class='no'>sp</span>)
<span class='fu'>subset</span>(<span class='no'>out</span>, <span class='no'>n</span> <span class='kw'>==</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt; # A tibble: 1 x 5
#&gt;   stemID quadrat sp      dbh     n
#&gt;    &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;int&gt;
#&gt; 1      3 0001    sp2    3.63     1</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/maurolepore'>Mauro Lepore</a>, <a href='http://www.forestgeo.si.edu/'>CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

